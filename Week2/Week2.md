# P1364 医院设置

## 题目描述

设有一棵二叉树，如图：

![](https://cdn.luogu.com.cn/upload/image_hosting/kawht13x.png)

其中，圈中的数字表示结点中居民的人口。圈边上数字表示结点编号，现在要求在某个结点上建立一个医院，使所有居民所走的路程之和为最小，同时约定，相邻接点之间的距离为 $1$。如上图中，若医院建在 $1$ 处，则距离和 $=4+12+2\times20+2\times40=136$；若医院建在 $3$ 处，则距离和 $=4\times2+13+20+40=81$。

## 输入格式

第一行一个整数 $n$，表示树的结点数。

接下来的 $n$ 行每行描述了一个结点的状况，包含三个整数 $w, u, v$，其中 $w$ 为居民人口数，$u$ 为左链接（为 $0$ 表示无链接），$v$ 为右链接（为 $0$ 表示无链接）。

## 输出格式

一个整数，表示最小距离和。

## 输入输出样例 #1

### 输入 #1

```
5						
13 2 3
4 0 0
12 4 5
20 0 0
40 0 0

```

### 输出 #1

```
81
```

## 说明/提示

#### 数据规模与约定

对于 $100\%$ 的数据，保证 $1 \leq n \leq 100$，$0 \leq u, v \leq n$，$1 \leq w \leq 10^5$。

## 总结 / 疑问：
用深度优先递归解决

---
---
---

# P2610 [ZJOI2012] 旅游

## 题目描述

到了难得的暑假，为了庆祝小白在数学考试中取得的优异成绩，小蓝决定带小白出去旅游~~

经过一番抉择，两人决定将 T 国作为他们的目的地。T 国的国土可以用一个凸 $n$ 边形来表示，$n$ 个顶点表示 $n$ 个入境/出境口。T 国包含 $n-2$ 个城市，每个城市都是顶点均为 $n$ 边形顶点的三角形（换而言之，**城市组成了关于 T 国的一个三角剖分**）。**两人的旅游路线可以看做是连接 $n$ 个顶点中不相邻两点的线段**。

![](https://cdn.luogu.com.cn/upload/pic/1409.png) 

为了能够买到最好的纪念品，小白希望旅游路线上经过的城市尽量多。作为小蓝的好友，你能帮帮小蓝吗？

## 输入格式

每个输入文件中仅包含一个测试数据。

第一行包含一个正整数 $n$，$n$ 的含义如题目所述。

接下来有 $n-2$ 行，每行包含三个整数 $p,q,r$，表示该城市三角形的三个顶点的编号（T 国的 $n$ 个顶点按顺时间方向从 $1$ 至 $n$ 编号）。

## 输出格式

输出文件共包含一行，表示最多经过的城市数目。（**一个城市被当做经过当且仅当其与线路有至少两个公共点**）

## 输入输出样例 #1

### 输入 #1

```
6
1 2 4
2 3 4
1 4 5
1 5 6
```

### 输出 #1

```
4
```

## 说明/提示

对于 $20\%$ 的数据，$n\le 2000$。

对于 $100\%$ 的数据，$4\le n \le 200000$。

---
---
---
# 3385 玛雅人的秘密
玛雅人有一种密码，如果字符串中出现连续的 2012
 四个数字就能解开密码。

给定一个长度为 N
 的字符串，该字符串中只含有 0,1,2
 三种数字。

可以对该字符串进行换位操作，每次操作可选取相邻的两个数字交换彼此位置。

请问这个字符串要换位几次才能解开密码。

例如 02120
 经过一次换位，可以得到 20120,01220,02210,02102
，其中 20120
 符合要求，因此输出为 1
。

如果无论换位多少次都解不开密码，输出 −1
。

输入格式
第一行包含一个整数 N
，表示字符串的长度。

第二行包含一个由 0,1,2
 组成的，长度为 N
 的字符串。
输出格式
若可以解出密码，则输出最少的换位次数；否则输出 −1
。

数据范围
2≤N≤13

输入样例：
5
02120\
输出样例：
1

---
---
---
# 天气预报
你是一个可以控制风的神仙。

通过把云吹到不同的位置，你可以控制降雨。

云下地区会降雨，没有云的地方阳光灿烂。

你是一个仁慈的神，希望土地在平时可以有足够的雨水，在赶集和过节能够充满阳光。

你负责掌控一个村子的天气状况。

这个村子呈 4×4
 的网格状分布，村子内的每个区域被编号如下图所示：

天气.jpg

你拥有一片 2×2
 大小的云，这片云不能到村子以外的地方。

你将获得一段时间内村子每个区域的赶集和过节时间表。

在这段时间的第一天，中部地区（6−7−10−11
）将会下雨。

在接下来的每一天中，您可以在四个基本方向（东南西北）之中选取一个方向，将云移动 1
 或 2
 个方格，或将其保持在相同位置。

不允许对角线移动，所有动作都在一天开始时发生。

任何地区都不能连续七天或以上时间都不降雨。

这段时间以外的日子的下雨状况你无需做任何考虑。

输入格式
输入包含多组测试用例。

对于每组测试用例，第一行包含一个整数 N
，表示这段时间的具体天数。

接下里 N
 行，描绘了接下来 N
 天的赶集和过节时间表，第 i
 行表示第 i
 天的时间表。

这 N
 行里，每行包含 16
 个数字（0
 或 1
），0
 表示正常的一天，1
 表示赶集和过节的一天，第 i
 个数字表示第 i
 个区域的具体情况。

每行数字之间用空格隔开。

当输入测试用例 N=0
 时，表示输入终止，且该用例无需处理。

输出格式
每个测试用例输出一个整数 0
 或 1
，如果可以保证整个时间段内，该下雨的地方下雨，不该下的地方不下，则输出 1
。

如果不能保证则输出 0
，每个结果占一行。

数据范围
1≤N≤365

输入样例：
1
0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
7
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 0 0 0 1 0 0 0 0 1 1 0 0 1
0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 1
0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 0
0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0
1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1
0 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0
7
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 1 0 0 0 0 1 0 0 0 0 0 1 0 0
0 0 0 1 0 0 0 0 0 0 1 0 1 0 0 0
0 1 0 0 0 0 0 1 0 0 0 0 1 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 1 0 1 0 0 0 0 1
0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
15
0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 1 1 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
0 0 1 1 0 0 0 0 0 1 0 0 0 0 0 0
1 1 0 0 0 0 0 0 0 0 1 0 0 1 0 0
0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0
0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0
1 0 0 1 1 0 0 0 0 1 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0
0 0 0 0 0 1 0 1 0 1 0 0 0 0 0 0
0
输出样例：

0
1
0
1
## 总结 / 疑问：
用迭代，每次都有9种选择（上下左右各两种，还有原地保持不动），对每种状态进行判断，若不满足条件，局部迭代函数返回-1，9-1……。迭代次数和天数有关。另外应该在mov函数种加入不变这种情况！！！初始为mov（0）即静止状态。
```
# 一轮迭代思路
little_count = 9
def mov():    
    little_count +=  mov(上12下12左12右12停)
    if 满足:
        return 0
    if 不满足:
        return -1
        ??????
```



# 生命之树
在X森林里，上帝创建了生命之树。

他给每棵树的每个节点（叶子也称为一个节点）上，都标了一个整数，代表这个点的和谐值。

上帝要在这棵树内选出一个非空节点集 S
，使得对于 S
 中的任意两个点 a,b
，都存在一个点列 {a,v1,v2,…,vk,b}
 使得这个点列中的每个点都是 S
 里面的元素，且序列中相邻两个点间有一条边相连。

在这个前提下，上帝要使得 S
 中的点所对应的整数的和尽量大。

这个最大的和就是上帝给生命之树的评分。

经过 atm 的努力，他已经知道了上帝给每棵树上每个节点上的整数。

但是由于 atm 不擅长计算，他不知道怎样有效的求评分。

他需要你为他写一个程序来计算一棵树的分数。

输入格式
第一行一个整数 n
 表示这棵树有 n
 个节点。

第二行 n
 个整数，依次表示每个节点的评分。

接下来 n−1
 行，每行 2
 个整数 u,v
，表示存在一条 u
 到 v
 的边。

由于这是一棵树，所以是不存在环的。

树的节点编号从 1
 到 n
。

输出格式
输出一行一个数，表示上帝给这棵树的分数。

数据范围
1≤n≤105
,
每个节点的评分的绝对值均不超过 106
。

输入样例：
5
1 -2 -3 4 5
4 2
3 1
1 2
2 5
输出样例：
8
## 总结 / 疑问：
从叶子开始向上选择最大的路径即可，若整体为负数，则不选。 

# CCC单词搜索
给定一个 R×C
 的大写字母矩阵。

请你在其中寻找目标单词 W
。

已知，目标单词 W
 由若干个不同的大写字母构成。

目标单词可以遵循以下两种规则，出现在矩阵的水平、垂直或斜 45
 度线段中：

单词出现在一条线段上。
单词出现在两条相互垂直且存在公共端点的线段上。也就是说，单词首先出现在某线段上，直到某个字母后，转向 90
 度，其余部分出现在另一条线段上。
具体可以参照图例。

请你计算，目标单词在给定矩阵中一共出现了多少次。

输入格式
第一行包含一个由若干个不同的大写字母构成的字符串，表示单词 W
。

第二行包含整数 R
。

第三行包含整数 C
。

接下来 R
 行，每行包含 C
 个大写字母，表示给定字母矩阵。

输出格式
一个整数，表示目标单词在给定矩阵中的出现次数。

数据范围
2≤|W|≤6
,
1≤R,C≤100

输入样例1：
MENU
5
7
F T R U B L K
P M N A X C U
A E R C N E O
M N E U A R M
M U N E M N S
输出样例1：
3
样例1解释
目标单词一共出现 3
 次，如下图所示。

QQ截图20230822172449.png

输入样例2：
NATURE
6
9
N A T S F E G Q N
S A I B M R H F A
C F T J C U C L T
K B H U P T A N U
D P R R R J D I R
I E E K M E G B E
输出样例2：
4
样例2解释
目标单词一共出现 4
 次，如下图所示。

QQ截图20230822172559.png

## 总结 / 疑问：
对每个单词依次进行两种遍历：直线和折现遍历。越界或不吻合原单词则跳过。